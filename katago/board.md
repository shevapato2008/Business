# 请分析saiboard项目使用到的材料，列一个清单出来

下面这份清单是基于 **Saiboard 项目主页 README 里明确写到的功能点 + 主题标签（raspberry-pi / esp32 / cnc / 3d-printing / flutter / katago）**来倒推的“可采购物料清单（BOM）”。项目 README 明确提到这些关键点：**木质棋盘、感知电子用于落子检测与 LED 反馈、磁性棋子、集成 KataGo、并用 Web App 控制交互**。 ([GitHub][1])

> 说明：我尝试继续打开 repo 里的 `electronics/board/stones/software` 子目录获取更细的型号/数量，但 GitHub 页面在这些目录页会报 “error while loading”，导致无法读到更具体的元件明细（比如具体用哪种传感器/LED/PCB 文件名）。因此下面的清单会把**“必需项（高度确定）”**和**“实现方式候选（需要你最终确认）”**分开列，方便你采购时不走弯路。

---

## A. 必需项（高度确定，建议先买齐）

### 1) 主控计算与存储（跑 KataGo + Web/服务）

* **Raspberry Pi（项目主题包含 raspberry-pi）**：建议 RPi 4B / 5（你也可换 RK，但 Saiboard 明确走过 RPi 路线） ([GitHub][1])
* **存储**：microSD（≥32GB）或 USB SSD（更稳更快）
* **电源**：与主板匹配的 5V 供电（RPi5 通常需要更大功率）
* **网络**：Wi-Fi/以太网（用于 Web App/远程访问/更新）
* **（可选）散热**：散热片/风扇（长时间跑引擎更稳）

### 2) 棋盘本体与结构件（木质 + CNC）

* **木质棋盘（CNC 加工）**：README 明确是 *wooden Go board*，且主题包含 *cnc* ([GitHub][1])
* **安装结构件**：底板/支撑框、螺丝铜柱、定位销、线槽/理线夹、胶水（环氧/木工胶）

### 3) “落子检测 + LED 反馈”电子系统（核心）

README 明确：*sensory electronics* + *LED feedback*，主题包含 *esp32* ([GitHub][1])

* **ESP32 开发板 / 模组**（作为采集与控制 MCU）
* **自制 PCB 或洞洞板方案**（用于传感器阵列与走线汇聚）
* **LED 阵列（用于提示下一手/胜率/形势等）**
* **线材与连接器**：杜邦线、排线、JST 端子、焊锡、热缩管

### 4) 棋子（磁性重棋子）

README 明确：*Heavy, magnetic Go stones* ([GitHub][1])

* **磁性围棋子**（黑白各一套）
* **（候选）磁铁/金属配重**：若你要自己改造普通棋子

---

## B. 关键电子件“实现方式候选”（你采购前需要二选一/三选一）

Saiboard 的 README 没写具体传感器型号，但“棋盘落子检测”通常就这几条路线。你可以根据成本、装配难度和可靠性选：

### 方案 1：磁 + 霍尔传感器（最常见、抗干扰好）

* **每个交叉点一个霍尔传感器**（数量大但体验最好）
* **I/O 扩展**：I2C GPIO 扩展器（如 MCP23017 类）/矩阵扫描方案（减少 ESP32 引脚压力）
* **优点**：稳定、可做很低误判
* **代价**：器件数量大、PCB/装配量大

### 方案 2：磁 + 簧片开关/干簧管（更便宜但一致性略差）

* **每点簧片开关** + 矩阵扫描
* **优点**：便宜
* **代价**：一致性、寿命、装配容差更敏感

### 方案 3：电容/电阻触摸阵列（不依赖磁棋子）

* **电极阵列 + 采集芯片**
* **优点**：棋子不必磁性
* **代价**：算法/校准复杂，对材料/湿度更敏感

> 如果你想尽量接近“隐智围棋”那种稳，通常更偏向 **方案 1（霍尔）**。

---

## C. 软件侧（从 README 可确定的组件形态）

README 明确：**集成 KataGo**、并且是 **“用户友好的 web app”**；主题里也有 **flutter**，很可能是 Flutter Web 做 UI。 ([GitHub][1])

* **KataGo 引擎**（RPi 上跑 CPU 版）
* **控制/对弈/展示 Web App**（Flutter Web 或其它前端）
* **主控服务**（把棋盘数据 → SGF/局面 → KataGo 分析 → UI 展示）

---

## D. 采购清单（你可以直接拿去下单的“最小可行 BOM”）

按“先跑通 MVP，再升级”的思路，我建议你先买这一套：

1. **主板**：Raspberry Pi 5（8GB）或 RPi 4B（4GB/8GB）
2. **存储/电源/散热**：microSD 64GB + 官方/高质量电源 + 风扇散热
3. **MCU**：ESP32 DevKit（先用开发板，后面再换模组+PCB） ([GitHub][1])
4. **LED**：可寻址 LED 灯带/灯珠（先做“提示点位”，后面再做全盘效果）
5. **线材**：杜邦线、排线、JST 插头、热缩管、扎带
6. **加工**：CNC 木板（棋盘 + 底壳/走线槽位） ([GitHub][1])
7. **棋子**：磁性棋子一副（黑白各 181） ([GitHub][1])
8. **工具**：电烙铁、焊锡、助焊剂、万用表

---

## 下一步我建议你怎么做（避免一次性买错）

* **先不急着买 361 个传感器**：先用 9×9 或 13×13 的小板验证“落子检测 + LED 指示 + KataGo 通路 + Web App 交互”，通了再扩到 19×19。
* 你如果把 GitHub 子目录里的 `electronics/` 文件（比如原理图/PCB/BOM）**下载成 zip 发我**，我就能把上面“候选项”变成**精确到型号/数量/封装/购买链接关键字**的 BOM（例如：霍尔型号、LED 型号、扩展器数量、PCB 层数/尺寸等）。

[1]: https://github.com/miliar/saiboard "GitHub - miliar/saiboard: An open-source, wooden electronic Go board that integrates with KataGo."



# Q: CNC木板是什么? 这个saiboard项目中棋盘具体如何走线并组装起来的?

下面按“**CNC 木板是什么**”→“**Saiboard 这种棋盘为什么要 CNC**”→“**棋盘内部怎么走线**”→“**典型组装步骤（对照 Saiboard 结构）**”给你讲清楚。由于你给的 Saiboard 仓库在我这边打开子目录（`board/`、`electronics/`）会报 GitHub 的加载错误，没法逐行读取到作者的具体板层图/走线图；但仓库主页已经明确了它是 **木质棋盘 + 传感电子 + ESP32 + CNC** 这条路线，我会按这类智能棋盘的标准工程实现把“怎么做”讲到你可以直接找工厂/打样为止。 ([GitHub][1])

---

## 1) CNC 木板是什么？

**CNC（Computer Numerical Control）木板**，就是用数控机床（常见是 CNC Router/雕刻机）按 G-code 路径去**铣削、钻孔、开槽、开腔**木板（或竹板/复合板）。它的价值在于：

* **高精度重复加工**：孔位、槽宽、深度一致（对 19×19 这种网格阵列非常关键）
* **能加工“隐藏结构”**：比如**背面走线槽**、**电子腔体**、**定位台阶**、**暗扣/螺柱位**
* **利于分层结构**：把复杂内部结构拆成 2~4 层板分别加工，再叠装

Saiboard 本身仓库语言占比几乎都是 G-code，且目录里就有 `board/`，基本可以确定作者提供了给 CNC 用的加工文件。 ([GitHub][2])

---

## 2) Saiboard 这种棋盘为什么必须 CNC？

Saiboard 的定位是：**木质实体棋盘**，落子检测 + LED 引导，并且用 **ESP32** 做底层电子控制，再接 KataGo 等软件。([GitHub][1])
要在“外观仍然像真棋盘”的前提下塞进电子件，CNC 通常用来做三类隐藏加工：

1. **传感器/灯的安装腔体**（背面大面积开“浅腔”或很多小腔）
2. **走线槽**（背面开 2~5mm 宽、2~4mm 深的槽，让线束/排线躺平，不鼓包）
3. **定位与装配结构**（台阶、沉头孔、螺柱位、卡扣位，确保叠装后网格对齐）

---

## 3) 棋盘内部一般怎么“走线”？

对 19×19=361 个交点，如果每个交点都有检测（常见是霍尔传感器）+ 指示灯（LED），**绝不可能用“361 个点各拉两根线”那种直连方式**，线会爆炸。

工程上通常是“三段式”：

### A. 棋盘面下：**阵列化的“传感/灯板”**

常见两种做法：

* **整板 PCB（大 PCB）**：一整块 19×19 传感器阵列（成本高、打样难、运输易损）
* **条形/分块 PCB 拼接**：比如每行/每列一条板，或者 19×(N) 的小板拼起来（更适合 DIY/小批量）

这些 PCB 通过 **排线/板对板** 汇总到控制板。

### B. 板内走线：**“槽 + 排线/线束”**

* CNC 在背面开**主干槽**（从中心或一侧汇聚到控制腔）
* 再开若干**支槽**（把每块传感/LED 子板接到主干槽）
* 线材形态：

  * **FPC/FFC 排线**（薄、好走槽，但需要连接器）
  * **硅胶软线线束**（更通用，但更厚）
  * **灯带类（如果 LED 用 WS2812 这种串行）**就更省线：只要电源 + 一根数据线串起来

### C. 控制与上位机：**ESP32 控制板 + 到树莓派/主控**

Saiboard 话题标签里明确有 **ESP32**，说明它很可能用 ESP32 做：

* 扫描传感器阵列（矩阵扫描 / I2C 扩展 / ADC/IO 扩展）
* 驱动 LED（串行 LED 或 LED 驱动芯片）
* 与上位机（树莓派）通信（USB 串口 / Wi-Fi / BLE） ([GitHub][1])

---

## 4) “Saiboard 这种棋盘”典型的 CNC 分层与组装方式（你可以照这个去找工厂打样）

下面是最常见、也最容易量产的木质智能棋盘叠层结构（不依赖复杂工艺）：

### 第 1 层：**面板（可见的棋盘面）**

* 材料：榉木/枫木/竹板/复合木（稳定、不易翘）
* 加工：

  * 表面可能只做**网格刻线**或丝印（看你要不要传统棋盘质感）
  * 若需要“点位发光”，可在交点做**微孔**或背面做**透光浅腔**（让 LED 光透出来但正面看不到灯珠）

> 关键参数：**面板厚度**直接决定传感器与棋子磁铁的距离；太厚会漏检，太薄手感差。

### 第 2 层：**功能层（传感器/LED 腔体 + 走线槽）——CNC 的主战场**

* 背面 CNC 开两类结构：

  1. **传感器/LED 的“平底浅腔”**：把 PCB/灯带嵌进去，表面齐平
  2. **走线槽**：把排线/线束埋进去，不被底盖压到
* 这一层通常还会开一个**控制腔**：放 ESP32 控制板、稳压、电源分配、接口（USB/电源口）

### 第 3 层：**底盖（封板 + 结构强度 + 可维护）**

* 建议做成**可拆**（螺丝固定），别全胶死：

  * 你后期一定会改线、换板、修坏点
* 底盖上加**脚垫**，并预留散热/走线出口

---

## 5) 你真正需要盯住的“走线/组装细节”（很实用）

### 走线槽怎么开才合理？

* 主干槽：宽 4~6mm、深 3~4mm（能躺下排线或 2~3 根硅胶线）
* 支槽：宽 2~4mm、深 2~3mm
* 转角做**圆角**（CNC 刀具半径限制），避免排线折死

### 电子件怎么固定？

* PCB：优先 **螺丝 + 铜柱**（可拆可修）；其次 3M 胶/热熔胶（维修痛苦）
* 线束：槽内少量点胶固定，避免合盖后“挤压位移”

### 棋子磁铁与检测的匹配

* 你会用“带磁铁的重棋子”（Saiboard 也强调磁性棋子）。磁铁强度、极性一致性很关键。([GitHub][1])
* 漏检通常不是软件问题，而是：

  * 面板太厚 / 传感器太深
  * 磁铁太弱或装反
  * 传感器位置偏移（装配定位不准）

### 量产角度的建议（你后期要接外部平台）

* **控制腔接口标准化**：电源口、USB、备用 UART/I2C、预留 GPIO
* **模块化 PCB**：坏一块换一块；别一整张大 PCB
* **底盖可拆**：否则每次迭代都要“撬板”

---

## 6) 怎么把“Saiboard 的具体做法”变成你可采购/可打样的资料？

Saiboard 仓库已经把项目拆成了 `board/`（木工/CNC）、`electronics/`（电子）、`stones/`（棋子）和 `software/`（软件/含 web app）这几个采购/生产维度。([GitHub][1])
你接下来最省事的方式是：

1. 你在本地把仓库下载下来（ZIP 或 git clone）
2. 把下面几类文件（截图或打包）发我，我就能按作者的**真实尺寸与工艺**给你还原“每层板怎么开槽、PCB 怎么排、线怎么汇聚”：

   * `board/` 里的 **G-code / DXF / STEP / STL / 加工说明**
   * `electronics/` 里的 **KiCad 工程 / Gerber / BOM**
   * `pics/` 里棋盘背面/内部的照片（通常会一眼看出走线槽布局）

> 你不懂机械也没关系：只要这些文件在，我可以帮你把它翻译成“给 CNC 厂/电子厂能看懂的加工单 + 采购清单 + 装配 SOP”。

---

如果你愿意，我也可以顺便给你一个“**最稳的打样结构**”（2 层木板 + 1 底盖 + 分块 PCB + 单侧汇线的方案），专门面向你说的“后期要接入其它平台、要可维护、不要从头再来”。

[1]: https://github.com/miliar/saiboard "GitHub - miliar/saiboard: An open-source, wooden electronic Go board that integrates with KataGo."
[2]: https://github.com/miliar/saiboard?utm_source=chatgpt.com "miliar/saiboard: An open-source, wooden electronic Go ..."
